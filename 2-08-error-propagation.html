
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>8. Error propagation &#8212; Data Analysis Techniques in Marine Science</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Hypothesis testing and Power" href="3-01-hypothesis-power.html" />
    <link rel="prev" title="7. Poisson regression example" href="2-07-poisson-regression-tropical-storms.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/course-logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data Analysis Techniques in Marine Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="README.html">
                    Data Analysis Techniques in Marine Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="software-installation/README.html">
   1. Setup and software installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-02-python-intro.html">
   2. Introduction to Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-03-cruise-data-analysis.html">
   3. Cruise data analysis in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-04-boolean.html">
   4. Boolean logic in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-05-loops.html">
   5. Loops
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-06-conditional-execution.html">
   6. Conditional execution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-07-python-functions.html">
   7. Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-08-python-modules.html">
   8. Creating your own Python module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1-09-python-packages.html">
   9. Python packages
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Probability distributions and linear modeling
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2-01-introduction.html">
   1. Sampling and statistics: Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-02-probability-and-distributions.html">
   2. Probability and distributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-03-modeling-sampling.html">
   3. Modeling, sampling, confidence intervals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-04-corr-regress-least-squares.html">
   4. Correlation and linear regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-05-wcoa-cruise-regression.html">
   5. Implementing linear regression in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-06-multivariate-regression.html">
   6. Multivariate regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-07-poisson-regression-tropical-storms.html">
   7. Poisson regression example
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   8. Error propagation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Hypothesis testing and power analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="3-01-hypothesis-power.html">
   1. Hypothesis testing and Power
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3-02-anova.html">
   2. Analysis of variance (ANOVA)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3-03-nonparam.html">
   3. Non-parametric statistical tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3-04-generalized-linear-model.html">
   4. The generalized linear model
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Nonlinear modeling and optimization
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="4-01-optimization.html">
   1. Optimization and nonlinear modeling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4-02-us-population-example.html">
   2. Example: Modeling exponential growth
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Principal component analysis and related techniques
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="5-01-PCA-EOF.html">
   1. Principal Component Analysis (PCA) and Empirical Orthogonal Functions (EOFs)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5-02-MDS.html">
   2. Multidimensional Scaling Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5-03-ndbc-wind.html">
   3. NDBC data - analysis of wind vector time series
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5-04-monterey_bay_kelp.html">
   4. Monterey Bay Kelp PCA
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Spectral analysis of time series
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="6-01-spectral-analysis.html">
   1. Spectral Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6-02-lobo-spectral.html">
   2. Spectral analysis example
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6-03-lobo-spectral-part2.html">
   3. Spectral analysis of LOBO data in Elkhorn Slough - Part 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6-04-filtering.html">
   5. Filtering and Convolution
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Spatial analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="7-01-spatial-analysis.html">
   1. Spatial Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7-02-interpolation.html">
   2. Interpolation techniques
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7-03-mapping-intro.html">
   3. Map tutorial
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Image analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="8-01-image-analysis.html">
   1. Image Analysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Git reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="git-reference/README.html">
   Git Reference
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/tompc35/data_marine_science/main?urlpath=tree/2-08-error-propagation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/2-08-error-propagation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-error-propagates-through-calculations-and-anlysis">
   8.1. How error propagates through calculations and anlysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#special-cases-br">
   8.2. Special cases
   <br/>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#addition-subtractions">
     Addition, subtractions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplication-division">
     Multiplication, division
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplying-by-an-exact-number">
     Multiplying by an exact number
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#power">
     Power
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#natural-log">
     Natural log
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#log-base-10">
     Log, base 10
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exponential">
     Exponential
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exponential-base-10">
     Exponential, base 10
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-uncertainties-package">
     Python uncertainties package
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example">
     Example
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Error propagation</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-error-propagates-through-calculations-and-anlysis">
   8.1. How error propagates through calculations and anlysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#special-cases-br">
   8.2. Special cases
   <br/>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#addition-subtractions">
     Addition, subtractions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplication-division">
     Multiplication, division
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplying-by-an-exact-number">
     Multiplying by an exact number
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#power">
     Power
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#natural-log">
     Natural log
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#log-base-10">
     Log, base 10
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exponential">
     Exponential
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exponential-base-10">
     Exponential, base 10
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#python-uncertainties-package">
     Python uncertainties package
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example">
     Example
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="error-propagation">
<h1><span class="section-number">8. </span>Error propagation<a class="headerlink" href="#error-propagation" title="Permalink to this headline">#</a></h1>
<section id="how-error-propagates-through-calculations-and-anlysis">
<h2><span class="section-number">8.1. </span>How error propagates through calculations and anlysis<a class="headerlink" href="#how-error-propagates-through-calculations-and-anlysis" title="Permalink to this headline">#</a></h2>
<p>Imagine you have three variables: <br>
<span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, <span class="math notranslate nohighlight">\(c\)</span> <br>
Each of those variables has a measure of uncertainty: <br>
<span class="math notranslate nohighlight">\(\sigma_a,\sigma_b,\sigma_c\)</span></p>
<p>Some calculated variable <span class="math notranslate nohighlight">\(y = f(a,b,c)\)</span> <br></p>
<p>What is the uncertainty of y when measurements are dependant/inter-related?</p>
<p><span class="math notranslate nohighlight">\(\sigma_y^2 \approx \sigma_a^2 \left(\frac{\partial y}{\partial a}\right)^2 +\sigma_b^2 \left(\frac{\partial y}{\partial b}\right)^2 + \sigma_c^2\left(\frac{\partial y}{\partial c}\right)^2 + 2\sigma_{ab} ^2 \left(\frac{\partial y}{\partial a}\right)\left(\frac{\partial y}{\partial b}\right) + 2\sigma_{bc}^2 \left(\frac{\partial y}{\partial b}\right)\left(\frac{\partial y}{\partial c}\right) + 2\sigma_{ac}^2 \left(\frac{\partial y}{\partial a}\right) \left(\frac{\partial y}{\partial c}\right)\)</span></p>
<p>This equation shows that the uncertainty in the calculated variable <span class="math notranslate nohighlight">\(y\)</span> depends on:</p>
<ul class="simple">
<li><p>The uncertainty in the measurement variables (<span class="math notranslate nohighlight">\(\sigma_a,\sigma_b,\sigma_c\)</span>)</p></li>
<li><p>The covariance among measurment variables (<span class="math notranslate nohighlight">\(\sigma_{ab}^2,\sigma_{bc}^2,\sigma_{ac}^2\)</span>)</p></li>
<li><p>The relationship between magnitudes of the measurement variables and calculated variable (<span class="math notranslate nohighlight">\(\partial y\)</span>/<span class="math notranslate nohighlight">\(\partial a\)</span>, <span class="math notranslate nohighlight">\(\partial y\)</span>/<span class="math notranslate nohighlight">\(\partial b\)</span>, <span class="math notranslate nohighlight">\(\partial y\)</span>/<span class="math notranslate nohighlight">\(\partial c\)</span>)</p></li>
</ul>
</section>
<section id="special-cases-br">
<h2><span class="section-number">8.2. </span>Special cases<br><a class="headerlink" href="#special-cases-br" title="Permalink to this headline">#</a></h2>
<p>Rules for error propagation in common operations can be derived from the equation above. If there all measurement variables are independent, then the terms involving covariance become zero. The examples listed below assume no correlation between measurement variables.</p>
<p>A more complete table, including covariance terms, can be found on Wikipedia:
<a class="reference external" href="https://en.wikipedia.org/wiki/Propagation_of_uncertainty#Example_formulas">https://en.wikipedia.org/wiki/Propagation_of_uncertainty#Example_formulas</a></p>
<section id="addition-subtractions">
<h3>Addition, subtractions<a class="headerlink" href="#addition-subtractions" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = a + b - c\)</span></p>
<p><em>error:</em></p>
<p><span class="math notranslate nohighlight">\(\sigma_y ^2  = \sigma_a ^2 + \sigma_b ^2 + \sigma_c ^2\)</span></p>
</section>
<section id="multiplication-division">
<h3>Multiplication, division<a class="headerlink" href="#multiplication-division" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = \frac{ab}{c}\)</span></p>
<p><em>relative error:</em></p>
<p><span class="math notranslate nohighlight">\((\frac{\sigma_y }{y})^2 =(\frac{\sigma_a }{a})^2 + (\frac{\sigma_b }{b})^2 + (\frac{\sigma_c }{c})^2\)</span></p>
</section>
<section id="multiplying-by-an-exact-number">
<h3>Multiplying by an exact number<a class="headerlink" href="#multiplying-by-an-exact-number" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y=ma\)</span></p>
<p><em>error:</em></p>
<p><span class="math notranslate nohighlight">\((\sigma_y) = m(\sigma_a)\)</span></p>
<p><em>relative error:</em></p>
<p><span class="math notranslate nohighlight">\((\frac{\sigma_y}{y})^2 = (\frac{\sigma_a}{a})^2\)</span></p>
</section>
<section id="power">
<h3>Power<a class="headerlink" href="#power" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = a^m\)</span></p>
<p><span class="math notranslate nohighlight">\((\frac{\sigma_y}{y})^2 = (m \frac{\sigma_a}{a})^2\)</span></p>
</section>
<section id="natural-log">
<h3>Natural log<a class="headerlink" href="#natural-log" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y= \ln{a}\)</span></p>
<p><span class="math notranslate nohighlight">\(\sigma_y = |\frac{\sigma_a}{a}|\)</span></p>
</section>
<section id="log-base-10">
<h3>Log, base 10<a class="headerlink" href="#log-base-10" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = \log_{10}{a}\)</span></p>
<p><span class="math notranslate nohighlight">\(\sigma_y = |0.434 \frac{\sigma_a}{a}|\)</span></p>
</section>
<section id="exponential">
<h3>Exponential<a class="headerlink" href="#exponential" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = e^a\)</span></p>
<p><span class="math notranslate nohighlight">\(\sigma_y = |y \sigma_a|\)</span></p>
</section>
<section id="exponential-base-10">
<h3>Exponential, base 10<a class="headerlink" href="#exponential-base-10" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(y = 10^a\)</span></p>
<p><span class="math notranslate nohighlight">\(\sigma_y = |2.303 y \sigma_a|\)</span></p>
</section>
<section id="python-uncertainties-package">
<h3>Python uncertainties package<a class="headerlink" href="#python-uncertainties-package" title="Permalink to this headline">#</a></h3>
<p>The <a class="reference external" href="https://pythonhosted.org/uncertainties/">uncertainties</a> package in Python makes it easy to keep track of uncertainties in complicated equations and account for correlations, which are ignored in the special cases above.</p>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">#</a></h3>
<p><strong>Example</strong>: Measure diameter of a sphere:</p>
<p>relative error = 10%</p>
<p>Error in calculating volume?</p>
<p><span class="math notranslate nohighlight">\(V = \frac{4}{3} \pi r^3\)</span></p>
<p>This problem can be approached by breaking it into several parts. First, we have the relative error in measuring the diameter, what is the error in calculating the radius,</p>
<p><span class="math notranslate nohighlight">\(r = \frac{1}{2}d\)</span>?</p>
<p>The <em>absolute error</em> changes when calculating the radius,</p>
<div class="math notranslate nohighlight">
\[\sigma_r = \frac{1}{2} \sigma_d\]</div>
<p>but the <em>relative error</em> does not,</p>
<div class="math notranslate nohighlight">
\[\frac{\sigma_r}{r} = \frac{\sigma_d}{d}\]</div>
<p>Similarly, the relative error of the volume, <span class="math notranslate nohighlight">\(V\)</span>, is equal to the relative error in calculating <span class="math notranslate nohighlight">\(r^3\)</span>,</p>
<div class="math notranslate nohighlight">
\[\frac{\sigma_V}{V} = \frac{\sigma_{r^3}}{r^3}\]</div>
<p>The error in <span class="math notranslate nohighlight">\(r^3\)</span> can be found by using the rule for powers,</p>
<div class="math notranslate nohighlight">
\[\left(\frac{\sigma_{r^3}}{r^3}\right) = 3 \left(\frac{\sigma_r}{r}\right)\]</div>
<p>which is equivalent to</p>
<div class="math notranslate nohighlight">
\[\left(\frac{\sigma_{V}}{V}\right) = 3 \left(\frac{\sigma_d}{d}\right)\]</div>
<div class="math notranslate nohighlight">
\[\left(\frac{\sigma_{V}}{V}\right) = 3 \left(0.1\right) = 0.30\]</div>
<p>This result can be checked with the uncertainties package.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">uncertainties</span> <span class="kn">import</span> <span class="n">ufloat</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">ufloat</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="mf">0.5</span><span class="o">*</span><span class="n">d</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span>
<span class="n">V</span><span class="o">.</span><span class="n">std_dev</span><span class="o">/</span><span class="n">V</span><span class="o">.</span><span class="n">nominal_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.029999999999999995
</pre></div>
</div>
</div>
</div>
<p><strong>Example</strong>: Marine Carbonate Chemistry</p>
<p><img alt="images/carbonate_example.png" src="_images/carbonate_example.png" /></p>
<p><a class="reference external" href="http://acmg.seas.harvard.edu/people/faculty/djj/book/bookchap6.html">source</a></p>
<p>Relative concentrations of dissolved CO2 and carbonate ions in seawater are determined by pH pf seawater and dissociation constants <span class="math notranslate nohighlight">\(K_1'\)</span> and <span class="math notranslate nohighlight">\(K_2'\)</span></p>
<p>DIC = dissolved inorganic carbon</p>
<p>DIC = [CO2] + [HCO3-] + [CO3-2]</p>
<p><span class="math notranslate nohighlight">\(CO_2 + H_2 O \iff HCO_{3}^- + H^+\)</span></p>
<p><span class="math notranslate nohighlight">\(k_1'= \frac{[HCO3-][H^+]} {[CO_2]}\)</span></p>
<p><span class="math notranslate nohighlight">\(HCO_3 ^- \iff CO_3 ^2- +H^+\)</span></p>
<p><span class="math notranslate nohighlight">\(k_2' =\frac{ [CO3- ^2-][H^+]}{[HCO_3 ^-]}\)</span></p>
<p>partial pressure of CO2</p>
<p><span class="math notranslate nohighlight">\(pCO2 = \frac{[CO2]}{K_{h,CO_2}}\)</span>
Henry’s law constant = 3.24X10<span class="math notranslate nohighlight">\(^-2\)</span> <span class="math notranslate nohighlight">\(\frac{mol}{kg atm}\)</span> at 20 degrees C, s=35 PSU</p>
<p><span class="math notranslate nohighlight">\(pK_1' = 5.847\)</span></p>
<p><span class="math notranslate nohighlight">\(pK_2' = 8.966\)</span></p>
<p><span class="math notranslate nohighlight">\(pH = -\log_{10}{[H^+]} \to [H^+] = 10^{-pH}\)</span></p>
<p><span class="math notranslate nohighlight">\(pK_1' = -\log_{10}{K_1'} \to K_1' = 10^{-pK}\)</span></p>
<p>We can measure pCO_2 and pH well, but not DIC, but not alkalinity</p>
<p><span class="math notranslate nohighlight">\([CO_2] = \frac{DIC} {1 + \frac{k_1'}{H^+} + \frac{k_1' k_2'}{[H^+]^2}}\)</span></p>
<p>Analytical error in pH = 0.0020<br>
Analytical error in DIC = umol kg-1</p>
<p>What is the <span class="math notranslate nohighlight">\(\sigma_{H^+}\)</span>?</p>
<p><span class="math notranslate nohighlight">\(\sigma_{H^+} = 2.303[H^+]\sigma_{pH}\)</span></p>
<p>To get the order of magnitude assume a pH around 8.2 (typical for seawater)</p>
<p><span class="math notranslate nohighlight">\([H^+] \approx 10^{-8.2}\)</span></p>
<p>What is the error in calculating the partial pressure of CO2 in seawater from these measurements?</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="2-07-poisson-regression-tropical-storms.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7. </span>Poisson regression example</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="3-01-hypothesis-power.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Hypothesis testing and Power</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Tom Connolly<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>